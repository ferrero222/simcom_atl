/******************************************************************************
 *                              _    ____   ____                              *
 *                   ======    / \  / ___| / ___| ======       (c)03.10.2025  *
 *                   ======   / _ \ \___ \| |     ======           v1.0.0     *
 *                   ======  / ___ \ ___) | |___  ======                      *
 *                   ====== /_/   \_\____/ \____| ======                      *  
 *                                                                            *
 ******************************************************************************/
#ifndef __ASC_PORT_H
#define __ASC_PORT_H

/*******************************************************************************
 * Include files
 ******************************************************************************/
#include "ringslice.h"
#include <stdint.h> 
#include <stdbool.h> 
#include <string.h>
#include <assert.h>
#include "dbc_assert.h"
#include "asc_core.h"

/*******************************************************************************
 * Global pre-processor symbols/macros ('#define')
 ******************************************************************************/
#if ASC_DEBUG_ENABLED
  #define ASC_DEBUG(ctx, fmt, ...) asc_printf_safe(ctx, fmt, __VA_ARGS__)
#else
  #define ASC_DEBUG(ctx, fmt, ...) ((void)0)
#endif

/*******************************************************************************
 * Global type definitions ('typedef')
 ******************************************************************************/
/*******************************************************************************
 * Local type definitions ('typedef')
 ******************************************************************************/
/*******************************************************************************
 * Global variable definitions ('extern')
 ******************************************************************************/
/*******************************************************************************
 * Global function prototypes (definition in C source)
 ******************************************************************************/
/*******************************************************************************
 ** @brief  DBC fault override
 ** @param  none
 ** @return none
 ******************************************************************************/
DBC_NORETURN void DBC_fault_handler(char const* module, int label); 

/*******************************************************************************
 ** @brief  Weak function to enter into critical section
 ** @param  none
 ** @return none
 ******************************************************************************/
void _asc_crit_enter(void); 

/*******************************************************************************
 ** @brief  Weak function to exit critical section
 ** @param  none
 ** @return none
 ******************************************************************************/
void _asc_crit_exit(void);

/*******************************************************************************
 ** @brief  Printf
 ** @param  none
 ** @return none
 ******************************************************************************/
void asc_printf_safe(asc_context_t* const ctx, const char *fmt, ...);

/*******************************************************************************
 ** @brief  Printf
 ** @param  none
 ** @return none
 ******************************************************************************/
void asc_printf_from_ring(asc_context_t* const ctx, ringslice_t rs_me, char* text);

#endif
